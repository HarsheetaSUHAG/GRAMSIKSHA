<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agriculture Adventure - GRAMSIKSHA</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Poppins', sans-serif; scroll-behavior: smooth; }
        .journey-stop {
            position: absolute;
            width: 3rem; height: 3rem;
            background-color: #ef4444; /* red-500 */
            color: white;
            border-radius: 9999px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.25rem;
            border: 4px solid white;
            cursor: pointer;
            transition: transform 0.2s, background-color 0.2s;
            animation: pulse 2s infinite;
        }
        .journey-stop:hover { transform: scale(1.15); }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); }
            70% { box-shadow: 0 0 0 12px rgba(239, 68, 68, 0); }
            100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
        }
        .journey-stop.locked {
            background-color: #9ca3af; /* gray-400 */
            animation: none;
            pointer-events: none;
            cursor: not-allowed;
            filter: grayscale(1);
        }
        .journey-stop.completed {
            background-color: #22c55e; /* green-500 */
            animation: none;
        }
        .learning-module h3 { cursor: pointer; transition: color 0.2s; }
        .learning-module h3:hover { color: #f97316; }
        .learning-module.active h3 { color: #166534; font-weight: 700; }
    </style>
</head>
<body class="bg-green-50">

    <nav class="bg-white/90 backdrop-blur-md shadow-md fixed top-0 left-0 w-full z-20">
      <div class="max-w-screen-2xl mx-auto px-6 py-3 flex justify-between items-center">
        <div class="flex items-center space-x-2">
          <img src="public\images\image.png" alt="Logo" class="h-12">
          <h1 class="text-lg font-bold text-green-700">GRAMSIKSHA</h1>
        </div>
        <div class="flex items-center space-x-4">
          <button id="progress-button" class="bg-blue-500 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-600 font-semibold">📊 Reports</button>
          <a href="index.html#courses" class="bg-orange-500 text-white px-4 py-2 rounded-lg shadow hover:bg-orange-600 font-semibold">Back to Courses</a>
        </div>
      </div>
    </nav>

    <main class="w-full max-w-screen-2xl mx-auto pt-24 px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-8">
            <h1 id="main-title" class="text-4xl md:text-5xl font-bold text-slate-800">Your Farming Adventure! 🌱</h1>
            <p class="text-slate-600 mt-2">Learn about farming on the left, then test your knowledge by completing the missions on the right.</p>
        </div>

        <div class="flex flex-col lg:flex-row gap-8 items-start">
            
            <!-- Left Column: Learning Module -->
            <div class="w-full lg:w-2/5 bg-white rounded-2xl shadow-lg p-6 sticky top-24">
                <h2 class="text-3xl font-bold text-green-800 mb-4 border-b-2 border-green-200 pb-2">🌾 Learning Zone</h2>
                <div id="learning-modules-container" class="space-y-4">
                    <div class="learning-module" data-module="1">
                        <h3 class="font-semibold text-xl text-gray-700">Module 1: Seeds and Soil</h3>
                    </div>
                    <div class="learning-module" data-module="2">
                        <h3 class="font-semibold text-xl text-gray-700">Module 2: Water and Sunlight</h3>
                    </div>
                    <div class="learning-module" data-module="3">
                        <h3 class="font-semibold text-xl text-gray-700">Module 3: Helpful Farming Tools</h3>
                    </div>
                    <div class="learning-module" data-module="4">
                        <h3 class="font-semibold text-xl text-gray-700">Module 4: From Plant to Food</h3>
                    </div>
                     <div class="learning-module" data-module="5">
                        <h3 class="font-semibold text-xl text-gray-700">Module 5: Important Crops</h3>
                    </div>
                </div>
                <div id="learning-content-display" class="mt-6 border-t-2 border-green-200 pt-4">
                    <p class="text-gray-500">Click a module above to learn about it!</p>
                </div>
            </div>

            <!-- Right Column: Gamified Map -->
            <div class="w-full lg:w-3/5">
                <div id="game-map-container" class="relative w-full" style="aspect-ratio: 16 / 11;">
                    <img src="public\images\farm-path.png" alt="A cartoon village with a path for farming adventure" class="absolute inset-0 w-full h-full object-cover rounded-2xl shadow-2xl">
                    <div data-mission="1" class="journey-stop" style="top: 15%; left: 15%;">1</div>
                    <div data-mission="2" class="journey-stop" style="top: 48%; left: 25%;">2</div>
                    <div data-mission="3" class="journey-stop" style="top: 18%; left: 50%;">3</div>
                    <div data-mission="4" class="journey-stop" style="top: 65%; left: 60%;">4</div>
                    <div data-mission="5" class="journey-stop" style="top: 25%; left: 80%;">5</div>
                </div>
            </div>
        </div>
    </main>

    <!-- Quiz Modal -->
    <div id="quiz-modal" class="hidden fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-xl shadow-2xl p-8 max-w-md w-full">
            <h2 id="quiz-title" class="text-2xl font-bold text-green-700 mb-4">Quiz Time!</h2>
            <p id="quiz-question" class="mb-4 text-lg text-gray-700"></p>
            <form id="quiz-form">
                <div id="quiz-options" class="space-y-3"></div>
                <button type="submit" class="mt-6 w-full bg-orange-500 text-white px-6 py-2 rounded-lg shadow hover:bg-orange-600">Check Answer</button>
            </form>
        </div>
    </div>

    <!-- Fun Fact Modal -->
    <div id="fun-fact-modal" class="hidden fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-xl shadow-2xl p-8 max-w-md w-full text-center">
            <img src="public\images\light-bulb.png" alt="Fun Fact" class="w-20 h-20 mx-auto mb-4">
            <h2 class="text-2xl font-bold text-blue-600 mb-2">Did You Know?</h2>
            <p id="fun-fact-text" class="text-gray-700 text-lg"></p>
            <button id="close-fun-fact-modal" class="mt-6 bg-green-500 text-white px-6 py-2 rounded-lg shadow hover:bg-green-600">Continue!</button>
        </div>
    </div>
    
    <!-- Badge Modal -->
    <div id="badge-modal" class="hidden fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-xl shadow-2xl p-8 max-w-md w-full text-center">
             <h2 class="text-3xl font-bold text-yellow-500 mb-4">Adventure Complete! 🥳</h2>
             <img src="public\images\seed-badge.png" alt="Master Farmer Badge" class="w-40 h-40 mx-auto my-4">
             <p class="text-lg text-gray-700 mb-6">You've earned the <b>Master Farmer Badge</b>!</p>
             <a href="index.html#courses" class="bg-green-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-green-700">Back to Courses</a>
        </div>
    </div>
    
     <!-- Results Modal -->
    <div id="results-modal" class="hidden fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-xl shadow-2xl p-8 max-w-md w-full">
            <h2 class="text-2xl font-bold text-green-700 mb-4">Your Progress Report</h2>
            <div class="space-y-3 text-lg">
                <div><span class="font-semibold">Stops Completed:</span> <span id="stops-completed-results">0 / 5</span></div>
                <div><span class="font-semibold">Badges Earned:</span> <span id="badges-earned-results">None yet!</span></div>
            </div>
            <button id="close-results-modal" class="mt-6 w-full bg-gray-500 text-white px-6 py-2 rounded-lg shadow hover:bg-gray-600">Close</button>
        </div>
    </div>

    <script>
    // --- STATE MANAGEMENT ---
    let currentLevel = 1;

    // --- DOM Elements ---
    const missionStops = document.querySelectorAll('.journey-stop');
    const quizModal = document.getElementById('quiz-modal');
    const quizTitle = document.getElementById('quiz-title');
    const quizQuestion = document.getElementById('quiz-question');
    const quizOptions = document.getElementById('quiz-options');
    const quizForm = document.getElementById('quiz-form');
    const funFactModal = document.getElementById('fun-fact-modal');
    const funFactText = document.getElementById('fun-fact-text');
    const closeFunFactModal = document.getElementById('close-fun-fact-modal');
    const badgeModal = document.getElementById('badge-modal');
    const learningModules = document.querySelectorAll('.learning-module');
    const learningContentDisplay = document.getElementById('learning-content-display');
    const mainTitle = document.getElementById('main-title');
    const progressButton = document.getElementById('progress-button');
    const resultsModal = document.getElementById('results-modal');
    const closeResultsModal = document.getElementById('close-results-modal');
    
    // --- LEARNING ZONE CONTENT (IMPROVED) ---
    const learningData = {
        1: {
            content: `
                <div class="mb-4">
                    <h4 class="text-2xl font-bold text-gray-800">What is a Seed?</h4>
                    <p class="text-lg text-gray-600">A seed is like a tiny, sleeping baby plant. It is protected by a hard outer shell called a seed coat. Inside, it has everything it needs to begin growing into a big plant, like a tree or a vegetable stalk.</p>
                </div>
                <div>
                    <h4 class="text-2xl font-bold text-gray-800">Why is Soil Important?</h4>
                    <p class="text-lg text-gray-600">Soil is not just dirt! It is a home for the seed, giving it a safe and stable place to live. It holds water and nutrients (plant food) that the seed needs to wake up and start growing roots.</p>
                </div>`
        },
        2: {
            content: `
                <div class="mb-4">
                    <h4 class="text-2xl font-bold text-gray-800">The Power of Sunlight</h4>
                    <p class="text-lg text-gray-600">Plants use their leaves like solar panels to soak up energy from the sun. This process, called photosynthesis, is how they make their own food to grow bigger and stronger.</p>
                </div>
                <div>
                    <h4 class="text-2xl font-bold text-gray-800">Water is Life</h4>
                    <p class="text-lg text-gray-600">Just like we need to drink water, plants do too! Water travels from the roots all the way up to the leaves, carrying important nutrients from the soil with it. Without water, a plant will wilt and cannot survive.</p>
                </div>`
        },
        3: {
            content: `
                 <div class="mb-4">
                    <h4 class="text-2xl font-bold text-gray-800">The Shovel</h4>
                    <p class="text-lg text-gray-600">A shovel is a tool with a long handle and a broad blade. Farmers use it for digging holes in the ground to plant seeds or seedlings, and also for moving soil around.</p>
                </div>
                <div>
                    <h4 class="text-2xl font-bold text-gray-800">The Hoe</h4>
                    <p class="text-lg text-gray-600">A hoe has a long handle and a small, flat blade at the end. It's perfect for gently removing pesky weeds from around the plants without harming them. Weeds can steal a plant's food and water!</p>
                </div>`
        },
        4: {
            content: `
                 <div class="mb-4">
                    <h4 class="text-2xl font-bold text-gray-800">What is Harvesting?</h4>
                    <p class="text-lg text-gray-600">Harvesting is the exciting time when farmers gather their mature crops from the fields. It's like the plant's birthday, when it's ready to be picked and used for food.</p>
                </div>
                <div>
                    <h4 class="text-2xl font-bold text-gray-800">From Field to Plate</h4>
                    <p class="text-lg text-gray-600">After harvesting, crops like wheat are turned into flour for roti, vegetables are sent to the market, and fruits are picked from trees. This is how the food we eat makes its journey from the farm to our homes.</p>
                </div>`
        },
        5: {
             content: `
                 <div class="mb-4">
                    <h4 class="text-2xl font-bold text-gray-800">Wheat (Gehoon)</h4>
                    <p class="text-lg text-gray-600">Wheat is a very important crop in India. Its grains are ground into flour (atta), which is then used to make delicious foods like roti, chapati, and bread.</p>
                </div>
                <div>
                    <h4 class="text-2xl font-bold text-gray-800">Rice (Chawal)</h4>
                    <p class="text-lg text-gray-600">Rice is another key food crop. It grows in flooded fields called paddies. Many famous dishes like biryani and pulao are made from rice.</p>
                </div>`
        }
    };
    
    // --- QUIZ AND FUN FACT DATA ---
    const quizData = {
        1: { question: "What is the hard outer shell of a seed called?", options: ["A blanket", "A seed coat", "A box"], answer: "A seed coat", funFact: "Some seeds can stay sleeping (dormant) for hundreds of years before they finally sprout!" },
        2: { question: "What is the process where plants use sunlight to make food?", options: ["Photosynthesis", "Sleeping", "Drinking"], answer: "Photosynthesis", funFact: "The green color in leaves, called chlorophyll, is what helps the plant absorb sunlight." },
        3: { question: "Which tool is best for removing weeds?", options: ["A shovel", "A bucket", "A hoe"], answer: "A hoe", funFact: "Early hoes were made from sharp stones or animal shoulder blades tied to sticks!" },
        4: { question: "What is the special name for gathering crops from the field?", options: ["Playing", "Harvesting", "Cleaning"], answer: "Harvesting", funFact: "Many cultures around the world have big festivals with music and food to celebrate the harvest." },
        5: { question: "Flour for roti is made by grinding which crop?", options: ["Rice", "Wheat", "Corn"], answer: "Wheat", funFact: "Wheat is one of the oldest and most widely grown crops on the entire planet!" }
    };

    // --- FUNCTIONS ---
    function displayModuleContent(moduleId) {
        learningContentDisplay.innerHTML = learningData[moduleId]?.content || "<p>Select a module.</p>";
        learningModules.forEach(mod => mod.classList.toggle('active', mod.dataset.module === moduleId));
    }

    function updateJourneyStops() {
        missionStops.forEach(stop => {
            const missionId = parseInt(stop.dataset.mission);
            stop.classList.remove('locked', 'completed');
            if (missionId < currentLevel) {
                stop.classList.add('completed');
            } else if (missionId > currentLevel) {
                stop.classList.add('locked');
            }
        });
    }

    function showQuiz(missionId) {
        const data = quizData[missionId];
        quizTitle.textContent = `Mission ${missionId} Quiz`;
        quizQuestion.textContent = data.question;
        quizOptions.innerHTML = '';
        data.options.forEach(option => {
            quizOptions.innerHTML += `
                <label class="flex items-center p-3 rounded-lg border border-gray-200 hover:bg-gray-100 cursor-pointer">
                    <input type="radio" name="quiz" value="${option}" class="mr-3 h-5 w-5 text-green-600 focus:ring-green-500">
                    <span class="text-gray-800">${option}</span>
                </label>`;
        });
        quizModal.classList.remove('hidden');
    }

    function handleQuizSubmit(e) {
        e.preventDefault();
        const selectedOption = quizForm.querySelector('input[name="quiz"]:checked');
        if (!selectedOption) {
            alert("Please select an answer!");
            return;
        }

        const data = quizData[currentLevel];
        if (selectedOption.value === data.answer) {
            quizModal.classList.add('hidden');
            funFactText.textContent = data.funFact;
            funFactModal.classList.remove('hidden');
        } else {
            alert("Not quite, try again! Tip: Check the Learning Zone for hints.");
        }
    }
    
    function advanceLevel() {
        funFactModal.classList.add('hidden');
        if (currentLevel < 5) {
            currentLevel++;
            updateJourneyStops();
        } else {
            mainTitle.textContent = "Farming Adventure Complete!";
            badgeModal.classList.remove('hidden');
        }
    }
    
    function showResults() {
        document.getElementById('stops-completed-results').textContent = `${Math.min(currentLevel - 1, 5)} / 5`;
        const badgeText = (currentLevel > 5) ? "Master Farmer Badge! 🏆" : "None yet!";
        document.getElementById('badges-earned-results').textContent = badgeText;
        resultsModal.classList.remove('hidden');
    }

    // --- EVENT LISTENERS ---
    learningModules.forEach(module => {
        module.addEventListener('click', () => displayModuleContent(module.dataset.module));
    });

    missionStops.forEach(stop => {
        stop.addEventListener('click', () => {
             const missionId = parseInt(stop.dataset.mission);
             if (missionId === currentLevel) showQuiz(missionId);
        });
    });

    quizForm.addEventListener('submit', handleQuizSubmit);
    closeFunFactModal.addEventListener('click', advanceLevel);
    progressButton.addEventListener('click', showResults);
    closeResultsModal.addEventListener('click', () => resultsModal.classList.add('hidden'));

    // --- Initial Setup ---
    updateJourneyStops();
    displayModuleContent('1');
</script>

</body>
</html>

