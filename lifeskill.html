<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Life Skills Adventure - GRAMSIKSHA</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Poppins', sans-serif; scroll-behavior: smooth; }
        .journey-stop {
            position: absolute;
            width: 3rem; height: 3rem;
            background-color: #ef4444; /* red-500 */
            color: white;
            border-radius: 9999px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.25rem;
            border: 4px solid white;
            cursor: pointer;
            transition: transform 0.2s, background-color 0.2s;
            animation: pulse 2s infinite;
        }
        .journey-stop:hover { transform: scale(1.15); }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); }
            70% { box-shadow: 0 0 0 12px rgba(239, 68, 68, 0); }
            100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
        }
        .journey-stop.locked {
            background-color: #9ca3af; /* gray-400 */
            animation: none;
            pointer-events: none;
            cursor: not-allowed;
            filter: grayscale(1);
        }
        .journey-stop.completed {
            background-color: #22c55e; /* green-500 */
            animation: none;
        }
        .learning-module h3 { cursor: pointer; transition: color 0.2s; }
        .learning-module h3:hover { color: #f97316; }
        .learning-module.active h3 { color: #b45309; font-weight: 700; } /* Dark Amber */
    </style>
</head>
<body class="bg-amber-50">

    <nav class="bg-white/90 backdrop-blur-md shadow-md fixed top-0 left-0 w-full z-20">
      <div class="max-w-screen-2xl mx-auto px-6 py-3 flex justify-between items-center">
        <div class="flex items-center space-x-2">
          <img src="public\images\image.png" alt="Logo" class="h-12">
          <h1 class="text-lg font-bold text-green-700">GRAMSIKSHA</h1>
        </div>
        <div class="flex items-center space-x-4">
          <button id="progress-button" class="bg-blue-500 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-600 font-semibold">üìä Reports</button>
          <a href="courses.html" class="bg-orange-500 text-white px-4 py-2 rounded-lg shadow hover:bg-orange-600 font-semibold">Back to Courses</a>
        </div>
      </div>
    </nav>

    <main class="w-full max-w-screen-2xl mx-auto pt-24 px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-8">
            <h1 id="main-title" class="text-4xl md:text-5xl font-bold text-slate-800">Life Skills Adventures! ü§ù</h1>
            <p class="text-slate-600 mt-2">Learn important life skills on the left, then solve the challenges on the right.</p>
        </div>

        <div class="flex flex-col lg:flex-row gap-8 items-start">
            
            <!-- Left Column: Learning Module -->
            <div class="w-full lg:w-2/5 bg-white rounded-2xl shadow-lg p-6 sticky top-24">
                <h2 class="text-3xl font-bold text-amber-800 mb-4 border-b-2 border-amber-200 pb-2">üí° Learning Zone</h2>
                <div id="learning-modules-container" class="space-y-4">
                    <div class="learning-module" data-module="1">
                        <h3 class="font-semibold text-xl text-gray-700">Module 1: Teamwork and Sharing</h3>
                    </div>
                    <div class="learning-module" data-module="2">
                        <h3 class="font-semibold text-xl text-gray-700">Module 2: Solving Problems</h3>
                    </div>
                    <div class="learning-module" data-module="3">
                        <h3 class="font-semibold text-xl text-gray-700">Module 3: Good Communication</h3>
                    </div>
                    <div class="learning-module" data-module="4">
                        <h3 class="font-semibold text-xl text-gray-700">Module 4: Creativity and New Ideas</h3>
                    </div>
                     <div class="learning-module" data-module="5">
                        <h3 class="font-semibold text-xl text-gray-700">Module 5: Empathy and Kindness</h3>
                    </div>
                </div>
                <div id="learning-content-display" class="mt-6 border-t-2 border-amber-200 pt-4">
                    <p class="text-gray-500">Click a module above to learn about it!</p>
                </div>
            </div>

            <!-- Right Column: Gamified Map -->
            <div class="w-full lg:w-3/5">
                <div id="game-map-container" class="relative w-full" style="aspect-ratio: 16 / 11;">
                    <img src="public\images\life skills.png" alt="A cartoon landscape with people working together for a life skills adventure" class="absolute inset-0 w-full h-full object-cover rounded-2xl shadow-2xl">
                    <div data-mission="1" class="journey-stop" style="top: 75%; left: 10%;">1</div>
                    <div data-mission="2" class="journey-stop" style="top: 40%; left: 25%;">2</div>
                    <div data-mission="3" class="journey-stop" style="top: 70%; left: 45%;">3</div>
                    <div data-mission="4" class="journey-stop" style="top: 35%; left: 65%;">4</div>
                    <div data-mission="5" class="journey-stop" style="top: 65%; left: 85%;">5</div>
                </div>
            </div>
        </div>
    </main>

    <!-- Quiz Modal -->
    <div id="quiz-modal" class="hidden fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-xl shadow-2xl p-8 max-w-md w-full">
            <h2 id="quiz-title" class="text-2xl font-bold text-amber-700 mb-4">Life Skills Challenge!</h2>
            <p id="quiz-question" class="mb-4 text-lg text-gray-700"></p>
            <form id="quiz-form">
                <div id="quiz-options" class="space-y-3"></div>
                <button type="submit" class="mt-6 w-full bg-orange-500 text-white px-6 py-2 rounded-lg shadow hover:bg-orange-600">Check Answer</button>
            </form>
        </div>
    </div>

    <!-- Fun Fact Modal -->
    <div id="fun-fact-modal" class="hidden fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-xl shadow-2xl p-8 max-w-md w-full text-center">
            <img src="public\images\light-bulb.png" alt="Fun Fact" class="w-20 h-20 mx-auto mb-4">
            <h2 class="text-2xl font-bold text-blue-600 mb-2">Helpful Tip!</h2>
            <p id="fun-fact-text" class="text-gray-700 text-lg"></p>
            <button id="close-fun-fact-modal" class="mt-6 bg-amber-500 text-white px-6 py-2 rounded-lg shadow hover:bg-amber-600">Continue!</button>
        </div>
    </div>
    
    <!-- Badge Modal -->
    <div id="badge-modal" class="hidden fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-xl shadow-2xl p-8 max-w-md w-full text-center">
             <h2 class="text-3xl font-bold text-yellow-500 mb-4">Adventure Complete! ü•≥</h2>
             <img src="public\images\Google_AI_Studio_2025-09-21T06_32_48.204Z.png" alt="Community Helper Badge" class="w-40 h-40 mx-auto my-4">
             <p class="text-lg text-gray-700 mb-6">You've earned the <b>Community Helper Badge</b>!</p>
             <a href="index.html#courses" class="bg-green-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-green-700">Back to Courses</a>
        </div>
    </div>
    
     <!-- Results Modal -->
    <div id="results-modal" class="hidden fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-xl shadow-2xl p-8 max-w-md w-full">
            <h2 class="text-2xl font-bold text-amber-700 mb-4">Your Progress Report</h2>
            <div class="space-y-3 text-lg">
                <div><span class="font-semibold">Challenges Solved:</span> <span id="stops-completed-results">0 / 5</span></div>
                <div><span class="font-semibold">Badges Earned:</span> <span id="badges-earned-results">None yet!</span></div>
            </div>
            <button id="close-results-modal" class="mt-6 w-full bg-gray-500 text-white px-6 py-2 rounded-lg shadow hover:bg-gray-600">Close</button>
        </div>
    </div>

    <script>
    // --- STATE MANAGEMENT ---
    let currentLevel = 1;

    // --- DOM Elements ---
    const missionStops = document.querySelectorAll('.journey-stop');
    const quizModal = document.getElementById('quiz-modal');
    const quizTitle = document.getElementById('quiz-title');
    const quizQuestion = document.getElementById('quiz-question');
    const quizOptions = document.getElementById('quiz-options');
    const quizForm = document.getElementById('quiz-form');
    const funFactModal = document.getElementById('fun-fact-modal');
    const funFactText = document.getElementById('fun-fact-text');
    const closeFunFactModal = document.getElementById('close-fun-fact-modal');
    const badgeModal = document.getElementById('badge-modal');
    const learningModules = document.querySelectorAll('.learning-module');
    const learningContentDisplay = document.getElementById('learning-content-display');
    const mainTitle = document.getElementById('main-title');
    const progressButton = document.getElementById('progress-button');
    const resultsModal = document.getElementById('results-modal');
    const closeResultsModal = document.getElementById('close-results-modal');
    
    // --- LEARNING ZONE CONTENT ---
    const learningData = {
        1: {
            content: `
                <div class="mb-4">
                    <h4 class="text-2xl font-bold text-gray-800">What is Teamwork?</h4>
                    <p class="text-lg text-gray-600">Teamwork is when people work together to achieve a common goal. Sharing ideas and helping each other makes the work easier and more fun for everyone.</p>
                </div>
                <div>
                    <h4 class="text-2xl font-bold text-gray-800">Example</h4>
                    <p class="text-lg text-gray-600">When playing kabaddi, your whole team has to work together to win. That's <b>teamwork</b>!</p>
                </div>`
        },
        2: {
            content: `
                <div class="mb-4">
                    <h4 class="text-2xl font-bold text-gray-800">What is Problem Solving?</h4>
                    <p class="text-lg text-gray-600">Problem solving is the process of finding a solution to a difficult issue. The first step is to understand the problem, then think of different ways to fix it.</p>
                </div>
                <div>
                     <h4 class="text-2xl font-bold text-gray-800">Example</h4>
                    <p class="text-lg text-gray-600">If your kite gets stuck in a tree, you don't just pull and break it. You <b>solve the problem</b> by thinking of a safe way to get it down, like using a long stick.</p>
                </div>`
        },
        3: {
            content: `
                 <div class="mb-4">
                    <h4 class="text-2xl font-bold text-gray-800">Why is Listening Important?</h4>
                    <p class="text-lg text-gray-600">Good communication is not just about talking, it's also about listening carefully to what others are saying. This helps you understand their feelings and ideas.</p>
                </div>
                <div>
                    <h4 class="text-2xl font-bold text-gray-800">Example</h4>
                    <p class="text-lg text-gray-600">When your friend is telling you a story, you show you are a good <b>listener</b> by looking at them and not interrupting.</p>
                </div>`
        },
        4: {
            content: `
                 <div class="mb-4">
                    <h4 class="text-2xl font-bold text-gray-800">What is Creativity?</h4>
                    <p class="text-lg text-gray-600">Creativity is using your imagination to make something new or think of new ideas. It can be in drawing, telling stories, or even finding new ways to play a game.</p>
                </div>
                <div>
                    <h4 class="text-2xl font-bold text-gray-800">Example</h4>
                    <p class="text-lg text-gray-600">Using old boxes and bottles to build a toy car is a very <b>creative</b> idea.</p>
                </div>`
        },
        5: {
             content: `
                 <div class="mb-4">
                    <h4 class="text-2xl font-bold text-gray-800">What is Empathy?</h4>
                    <p class="text-lg text-gray-600">Empathy is trying to understand how someone else is feeling. If your friend is sad, you try to imagine what it feels like to be them. This helps you be kind.</p>
                </div>
                <div>
                    <h4 class="text-2xl font-bold text-gray-800">Example</h4>
                    <p class="text-lg text-gray-600">If you see someone fall down, you show <b>empathy</b> by helping them up and asking if they are okay.</p>
                </div>`
        }
    };
    
    // --- QUIZ AND FUN FACT DATA ---
    const quizData = {
        1: { question: "If you and your friends are cleaning a room together, what is that called?", options: ["A party", "Teamwork", "A race"], answer: "Teamwork", funFact: "Working in a team can often help you come up with better ideas than working alone!" },
        2: { question: "Your ball rolled under a cart and you can't reach it. What is the first thing you should do?", options: ["Cry and give up", "Think of safe ways to get it", "Kick the cart"], answer: "Think of safe ways to get it", funFact: "Taking a deep breath can often help you think more clearly when you have a problem." },
        3: { question: "To be a good communicator, you should talk a lot and...?", options: ["Listen carefully", "Play games", "Sing a song"], answer: "Listen carefully", funFact: "People can communicate without words, using expressions on their face and hands!" },
        4: { question: "Which of these is an example of creativity?", options: ["Copying a drawing exactly", "Following a recipe perfectly", "Making up a new song"], answer: "Making up a new song", funFact: "Daydreaming is actually a great way to boost your creativity!" },
        5: { question: "Your friend is sad because they lost their favorite pencil. What is a kind thing to do?", options: ["Laugh at them", "Tell them to stop crying", "Ask if you can help them look"], answer: "Ask if you can help them look", funFact: "Being kind to others can actually make you feel happier too!" }
    };

    // --- FUNCTIONS ---
    function displayModuleContent(moduleId) {
        learningContentDisplay.innerHTML = learningData[moduleId]?.content || "<p>Select a module.</p>";
        learningModules.forEach(mod => mod.classList.toggle('active', mod.dataset.module === moduleId));
    }

    function updateJourneyStops() {
        missionStops.forEach(stop => {
            const missionId = parseInt(stop.dataset.mission);
            stop.classList.remove('locked', 'completed');
            if (missionId < currentLevel) {
                stop.classList.add('completed');
            } else if (missionId > currentLevel) {
                stop.classList.add('locked');
            }
        });
    }

    function showQuiz(missionId) {
        const data = quizData[missionId];
        quizTitle.textContent = `Challenge #${missionId}`;
        quizQuestion.textContent = data.question;
        quizOptions.innerHTML = '';
        data.options.forEach(option => {
            quizOptions.innerHTML += `
                <label class="flex items-center p-3 rounded-lg border border-gray-200 hover:bg-gray-100 cursor-pointer">
                    <input type="radio" name="quiz" value="${option}" class="mr-3 h-5 w-5 text-amber-600 focus:ring-amber-500">
                    <span class="text-gray-800">${option}</span>
                </label>`;
        });
        quizModal.classList.remove('hidden');
    }

    function handleQuizSubmit(e) {
        e.preventDefault();
        const selectedOption = quizForm.querySelector('input[name="quiz"]:checked');
        if (!selectedOption) {
            alert("Please select an answer!");
            return;
        }

        const data = quizData[currentLevel];
        if (selectedOption.value === data.answer) {
            quizModal.classList.add('hidden');
            funFactText.textContent = data.funFact;
            funFactModal.classList.remove('hidden');
        } else {
            alert("Not quite, try again! Tip: Check the Learning Zone for hints.");
        }
    }
    
    function advanceLevel() {
        funFactModal.classList.add('hidden');
        if (currentLevel < 5) {
            currentLevel++;
            updateJourneyStops();
        } else {
            mainTitle.textContent = "Life Skills Adventure Complete!";
            badgeModal.classList.remove('hidden');
        }
    }
    
    function showResults() {
        document.getElementById('stops-completed-results').textContent = `${Math.min(currentLevel - 1, 5)} / 5`;
        const badgeText = (currentLevel > 5) ? "Community Helper Badge! üåü" : "None yet!";
        document.getElementById('badges-earned-results').textContent = badgeText;
        resultsModal.classList.remove('hidden');
    }

    // --- EVENT LISTENERS ---
    learningModules.forEach(module => {
        module.addEventListener('click', () => displayModuleContent(module.dataset.module));
    });

    missionStops.forEach(stop => {
        stop.addEventListener('click', () => {
             const missionId = parseInt(stop.dataset.mission);
             if (missionId === currentLevel) showQuiz(missionId);
        });
    });

    quizForm.addEventListener('submit', handleQuizSubmit);
    closeFunFactModal.addEventListener('click', advanceLevel);
    progressButton.addEventListener('click', showResults);
    closeResultsModal.addEventListener('click', () => resultsModal.classList.add('hidden'));

    // --- Initial Setup ---
    updateJourneyStops();
    displayModuleContent('1');
</script>

</body>
</html>
